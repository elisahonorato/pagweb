<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta name="description" content="Portafolio Elisa Honorato Lira">
   <meta name="keywords"
      content="Elisa Honorato, Elisa Honorato Lira, Diseño, Museo Miras, Chile, Diseño UC, Elisa Horonato, Elisa Honorto">
   <meta property="og:url" content="https://www.elisahonoratolira.cl">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous" />
   <link href="assets/css/style.css" rel="stylesheet" />
   <title>Elisa Honorato</title>
   <meta name="keywords" content="Elisa Honorato, Elisa, Diseño">
   <link rel="shortcut icon" href="assets/images/automarca/automarca03.png">
</head>

<body>
   <nav class="bg-light border-bottom" id="secundario">
   </nav>
   <nav class="navbar navbar-expand-md navbar-light bg-light border-bottom shadow-sm" id="principal">
      <div class="container">
         <a href="index.html#hello"> <img src="assets/images/automarca/logo.png" alt="logo" width="auto" height="30">
         </a>
         <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
            aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
         </button>
         <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav ms-auto mb-2 mb-md-0">
               <li class="nav-item">
                  <a class="nav-link" href="index.html#hello">home</a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" href="index.html#work">work</a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" href="index.html#contact">contact</a>
               </li>
            </ul>
         </div>
      </div>
   </nav>
   <main>
      <section id='proyectos'>
         <div class="container">
            <div class="image-grid">
               <!-- Photos will be dynamically generated here -->
            </div>
         </div>
      </section>
   </main>

   <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"
   integrity="sha512-rKFvwjvE4liWPlFnvH4ZhRDfNZ9FOpdkD/BU5gAIA3VS3vOQrQ5BjKgbO3kxebKhHdHcNUHLqxQYSoxee9UwgA=="
   crossorigin="anonymous"></script>
   <script>
      Papa.parse(
         'https://raw.githubusercontent.com/elisahonorato/pagweb/main/assets/csv/pag%20web.xlsx%20-%20Hoja%201.csv', {
            download: true,
            header: true,
            dynamicTyping: true,
            complete: function (respuesta) {
               var proyectos = respuesta.data;
               console.log(proyectos);
   
               var n = new URLSearchParams(window.location.search).get('nro');
               if (n !== null) {
                  var project = proyectos[n];
                  var photos = [];
   
                  // Collect all available photo URLs into an array
                  for (var key in project) {
                     if (key.startsWith('pic') && project[key] !== 'assets/images/') {
                        photos.push(project[key]);
                     }
                  }
   
                  var imageGrid = document.querySelector('.image-grid');
                  imageGrid.innerHTML = '';
   
                  if (photos.length > 0) {
                     // Generate the appropriate number of image elements
                     photos.forEach(function (photoUrl) {
                        checkImageExists(photoUrl, function (exists) {
                           if (exists) {
                              var img = document.createElement('img');
                              img.src = photoUrl;
                              imageGrid.appendChild(img);
                           }
                        });
                     });
                  } else {
                     // Handle the case when no photos are available
                     var noPhotosMsg = document.createElement('p');
                     noPhotosMsg.textContent = 'No photos available';
                     imageGrid.appendChild(noPhotosMsg);
                  }
               }
            }
         });
   
      function checkImageExists(url, callback) {
         var img = new Image();
         img.onload = function () {
            callback(true);
         };
         img.onerror = function () {
            callback(false);
         };
         img.src = url;
      }
   </script>
   
</body>

</html>
